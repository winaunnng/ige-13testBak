<?xml version="1.0" encoding="utf-8"?>
<odoo>
       <record id="approval_category_view_form_inherit" model="ir.ui.view">
             <field name="name">approval.category.view.form.inherit</field>
            <field name="model">approval.category</field>
            <field name="inherit_id" ref="approvals.approval_category_view_form"/>
            <field name="arch" type="xml">


                  <field name="has_location" position="after">
                    <field name="has_priority" string="Priority" widget="radio" options="{'horizontal': true}"/>
                    <field name="has_analytic_account" string="Analytic Account" widget="radio" options="{'horizontal': true}"/>
                  </field>

            </field>
       </record>

     <record id="approval_request_view_form_inherit" model="ir.ui.view">
        <field name="name">approval.request.view.form.inherit</field>
        <field name="model">approval.request</field>
        <field name="inherit_id" ref="approvals.approval_request_view_form"/>
        <field name="arch" type="xml">
            <field name="has_date" position="after">
                 <field name="has_priority" invisible="1"/>
                 <field name="has_analytic_account" invisible="1"/>
            </field>
             <button name="action_refuse"  position="replace">
                  <button name="%(sme_approvals_approval.approval_refuse_wizard_action)d"  type="action"  string="Refuse" attrs="{'invisible':[('user_status','!=','pending')]}"/>
             </button>
             <field name="amount" position="replace">
                     <field name="amount" attrs="{'invisible':[('has_amount','==','no')], 'required': [('has_amount','==','required')], 'readonly': [('request_status','not in',('new', 'pending'))]}"
                     widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" />
                     <field name="currency_id" attrs="{'invisible':[('has_amount','==','no')], 'required': [('has_amount','==','required')], 'readonly': [('request_status','not in',('new', 'pending'))]}"/>
            </field>

            <field name="partner_id" position="after">
                <field name="analytic_account_id" string="Department / Project" attrs="{'invisible':[('has_analytic_account','==','no')], 'required': [('has_analytic_account','==','required')], 'readonly': [('request_status','not in',('new', 'pending'))]}"/>
            </field>
            <group name="request_details" position="inside">
                 <field name="priority" widget="priority"
                   attrs="{'invisible':[('has_priority','==','no')], 'required': [('has_priority','==','required')], 'readonly': [('request_status','not in',('new', 'pending'))]}"/>
                <field name="company_id" invisible="1"/>
            </group>

        </field>
     </record>
</odoo>